generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql" // Change to PostgreSQL
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Game {
  matchID Int       @id @default(autoincrement()) // Remove the custom ID map and use PostgreSQL's default autoincrement
  map     String    @db.VarChar(40)
  user1   String    @db.VarChar(100)
  result  String    @db.VarChar(4)
  role    String    @db.VarChar(7)
  matchup Matchup[]
}

model Matchup {
  matchupID  Int     @id @default(autoincrement())
  heroPlayed String  @db.VarChar(40)
  win        Boolean
  enemy1     String  @db.VarChar(40)
  enemy2     String  @db.VarChar(40)
  enemy3     String  @db.VarChar(40)
  enemy4     String  @db.VarChar(40)
  enemy5     String  @db.VarChar(40)
  ally1      String  @db.VarChar(40)
  ally2      String  @db.VarChar(40)
  ally3      String  @db.VarChar(40)
  ally4      String  @db.VarChar(40)
  matchID    Int
  game       Game    @relation(fields: [matchID], references: [matchID], onUpdate: NoAction)
}
